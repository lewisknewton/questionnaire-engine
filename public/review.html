<!DOCTYPE html>
<html lang="en">

<title>Questionnaire Engine</title>

<link href="https://fonts.googleapis.com/css?family=Inter:400,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<main>
  <header>
    <h1>Untitled Questionnaire</h1>
  </header>

  <p id="loading">Loading responses &hellip;</p>

  <section id="responses" class="hidden">
    <h2>Responses</h2>

    <p>All responses will be shown here.</p>

    <details open>
      <summary>Download Options</summary>

      <fieldset>
        <legend>File Format</legend>

        <label>
          <input id="csv" name="format" type="radio">
          CSV (.csv)
        </label>

        <label>
          <input id="json" name="format" type="radio" checked>
          JSON (.json)
        </label>

        <label>
          <input id="tsv" name="format" type="radio">
          TSV (.tsv)
        </label>
      </fieldset>
    </details>

    <button id="download">Download Responses</button>

    <div role="tablist" aria-label="Response Views Tabs">
      <button id="aggregated-tab" role="tab" aria-selected="true" aria-controls="aggregated-panel"
        tabindex="0">Aggregated</button>
      <button id="individual-tab" role="tab" aria-selected="false" aria-controls="individual-panel"
        tabindex="-1">Individual</button>
    </div>

    <section id="aggregated-panel" class="card" role="tabpanel" tabindex="0" aria-labelledby="aggregated-tab">
      <h3>Aggregated Responses</h3>
    </section>

    <section id="individual-panel" class="card" role="tabpanel" tabindex="0" aria-labelledby="individual-tab" hidden>
      <h3>
        <span id="current-response">Individual Response</span>
        <span id="max-responses"></span>
      </h3>

      <p>View responses one by one to see individual participants' answers.</p>

      <!-- Controls for navigating through individual responses -->
      <nav id="individual-nav">
        <button id="previous-response" aria-label="Previous response" title="Previous response">
          <span>&lsaquo;</span>
        </button>

        <input type="number" name="current-response-number" id="current-response-number" min="1"
          aria-label="Current response number">

        <span id="response-numbers">of ?</span>

        <button id="next-response" aria-label="Next response" title="Next response">
          <span>&rsaquo;</span>
        </button>
      </nav>
    </section>
  </section>

  <a href="/">Go Home</a>
</main>

<!-- Status messages -->
<template id="error-message">
  <p class="error">Error message</p>
</template>

<template id="warning-message">
  <p class="warning">Warning message</p>
</template>

<template id="success-message">
  <p class="success">Success message</p>
</template>

<!-- Reproducible templates for responses -->
<template id="response">
  <article class="response">
    <span>
      <b>ID:</b> <span>Response ID</span>
    </span>

    <span>
      <b>Time submitted:</b> <time datetime="2020-06-15 23:00:00">yyyy-mm-dd hh:mm:ss</time>
    </span>

    <section class="answers">
    </section>
  </article>
</template>

<template id="answer">
  <h4>Question</h4>

  <b>Answer:</b> <span>Content</span>
</template>

<template id="aggregated-question">
  <article class="question">
    <h4>Question</h4>
  
    <b>Answer count:</b> <span>Answer Count</span>
  </article>
</template>

<script type="module" src="/js/review.js"></script>

</html>